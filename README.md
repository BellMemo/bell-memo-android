# BellMemo

ä¸€ä¸ªç®€å•çš„ Flutter æ¼”ç¤ºåº”ç”¨ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

BellMemo æ˜¯ä¸€ä¸ªåŸºäº Flutter å¼€å‘çš„å¤‡å¿˜å½•åº”ç”¨, å¹¶ä¸”æ”¯æŒç®€å•çš„ç½‘ç›˜åŠŸèƒ½.

## âœ¨ åŠŸèƒ½ç‰¹æ€§ï¼ˆå½“å‰å®ç°ï¼‰

- **æœ¬åœ°å¤‡å¿˜å½•**ï¼šä½¿ç”¨ `SharedPreferences` æŒä¹…åŒ–å­˜å‚¨ã€‚
- **å¯Œæ–‡æœ¬ç¼–è¾‘ï¼ˆç±» iOS å¤‡å¿˜å½•ï¼‰**ï¼š
  - å…¨å±ç¼–è¾‘é¡µï¼ˆé¿å… BottomSheet æ‹–æ‹½/é”®ç›˜å¯¼è‡´çš„å¸ƒå±€å´©æºƒï¼‰
  - é»˜è®¤æç®€ç•Œé¢ï¼Œæ ¼å¼å·¥å…·æ æ”¶çº³åœ¨ã€Œæ ¼å¼ã€æŒ‰é’®ä¸­
- **ç½‘ç›˜ï¼ˆWebDAV / Alistï¼‰**ï¼š
  - æ–‡ä»¶æµè§ˆï¼ˆç›®å½•è¿›å…¥/è¿”å›ã€åˆ·æ–°ï¼‰
  - Markdown åœ¨çº¿é¢„è§ˆ
  - å¤‡å¿˜å½•ä¸€é”®å¤‡ä»½åˆ°äº‘ç«¯ï¼šå°† Quill Delta è‡ªåŠ¨è½¬æ¢ä¸º Markdown åä¸Šä¼ åˆ°ã€Œå¤‡ä»½ç›®å½•ã€ï¼ˆé»˜è®¤ `/BellMemo`ï¼Œå¯åœ¨è¿æ¥é…ç½®é‡Œä¿®æ”¹ï¼‰
  - ä»äº‘ç«¯æ‹‰å–å†å²å¤‡å¿˜å½•ï¼šä»å¤‡ä»½ç›®å½•è¯»å– `.md` å¹¶å¯¼å…¥æœ¬åœ°ï¼ˆäº‘ç«¯æ›´æ–°æ›´æ™šåˆ™è¦†ç›–æœ¬åœ°ï¼‰
- **æœåŠ¡ç«¯é…ç½®å…¥å£**ï¼šåœ¨ç½‘ç›˜é¡µæ ¹ç›®å½•å·¦ä¸Šè§’èœå•ï¼ˆDrawerï¼‰ä¸­é…ç½® `åŸŸå/è´¦å·/å¯†ç `

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

- Flutter SDK >= 3.0.0
- Dart SDK >= 3.0.0
- Android Studio / VS Codeï¼ˆæ¨èï¼‰
- Android SDKï¼ˆç”¨äº Android å¹³å°å¼€å‘ï¼‰

## ğŸ“¦ å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd bell-memo-android
```

### 2. æ£€æŸ¥ Flutter ç¯å¢ƒ

```bash
flutter doctor
```

ç¡®ä¿æ‰€æœ‰å¿…è¦çš„å·¥å…·éƒ½å·²æ­£ç¡®å®‰è£…ã€‚

### 3. è·å–ä¾èµ–

```bash
flutter pub get
```

### 4. è¿è¡Œé¡¹ç›®

```bash
# åœ¨ Android è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ
flutter run

# æŸ¥çœ‹å¯ç”¨çš„è®¾å¤‡
flutter devices

# åœ¨ç‰¹å®šè®¾å¤‡ä¸Šè¿è¡Œ
flutter run -d <device-id>
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
lib/
  main.dart
  splash_screen.dart
  memo/
    memo.dart
    memo_store.dart
  pages/
    home_shell.dart              # å…¥å£å£³ï¼ˆæŠ½å±‰å¯¼èˆªï¼‰
    memo_page.dart               # å¤‡å¿˜å½•åˆ—è¡¨
    memo_editor_page.dart        # å¤‡å¿˜å½•å…¨å±å¯Œæ–‡æœ¬ç¼–è¾‘
    cloud_page.dart              # ç½‘ç›˜æµè§ˆ + é…ç½®æŠ½å±‰ + ä¸€é”®å¤‡ä»½
    cloud_md_viewer.dart         # äº‘ç«¯ Markdown é¢„è§ˆ
  services/
    cloud_service.dart           # WebDAV å®¢æˆ·ç«¯ + Memo -> Markdown åŒæ­¥
```

## ğŸ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… Flutter è·¨å¹³å°æ”¯æŒ
- âœ… Material Design 3 è®¾è®¡
- âœ… ä¿ç•™åŸæœ‰æ¡Œé¢å›¾æ ‡è®¾è®¡
- âœ… ç®€æ´çš„æ¼”ç¤ºç•Œé¢
- âœ… å¯Œæ–‡æœ¬å¤‡å¿˜å½•ï¼ˆflutter_quillï¼‰
- âœ… WebDAV/Alist ç½‘ç›˜æµè§ˆä¸å¤‡ä»½

## â˜ï¸ é…åˆ Alistï¼ˆWebDAVï¼‰ä½¿ç”¨

### 1) æœåŠ¡ç«¯å‡†å¤‡ï¼ˆAlistï¼‰

- åœ¨ Alist å¼€å¯ WebDAVï¼ˆé»˜è®¤è·¯å¾„é€šå¸¸æ˜¯ `/dav`ï¼‰
- å»ºè®®åˆ›å»ºå¹¶æŒ‚è½½ç›®å½•ï¼š`/BellMemo`

### 2) å®¢æˆ·ç«¯é…ç½®

è¿›å…¥ã€Œç½‘ç›˜ã€é¡µé¢ï¼Œåœ¨æ ¹ç›®å½•å·¦ä¸Šè§’èœå•ä¸­é…ç½®ï¼š

- **æœåŠ¡å™¨åœ°å€**ï¼šä¾‹å¦‚ `http://<ip>:5244/dav`
- **ç”¨æˆ·å / å¯†ç **ï¼šAlist çš„è´¦å·å¯†ç 

### 3) ä¸€é”®å¤‡ä»½

è¿æ¥æˆåŠŸåå¯åœ¨èœå•ä¸­ç‚¹å‡»ã€Œç«‹å³å¤‡ä»½æ‰€æœ‰å¤‡å¿˜å½•ã€ã€‚
å¤‡å¿˜å½•ä¼šè¢«è½¬æ¢ä¸º Markdown åä¸Šä¼ åˆ°äº‘ç«¯ `/BellMemo/`ã€‚

## ğŸš€ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

é¡¹ç›®éµå¾ªä»¥ä¸‹ä»£ç è§„èŒƒï¼š
- éµå¾ªå®˜æ–¹ [Dart é£æ ¼æŒ‡å—](https://dart.dev/guides/language/effective-dart/style)
- ä½¿ç”¨ `flutter_lints` è¿›è¡Œä»£ç æ£€æŸ¥
- è¯¦ç»†è§„èŒƒè¯·å‚è€ƒ [.cursor/rules/main.mdc](.cursor/rules/main.mdc)

### Git æäº¤è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<ç±»å‹>(<èŒƒå›´>): <ä¸»é¢˜>

<æ­£æ–‡>

<è„šæ³¨>
```

æäº¤ç±»å‹ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£å˜æ›´
- `refactor`: ä»£ç é‡æ„
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

ç¤ºä¾‹ï¼š
```
feat(ui): æ·»åŠ ç”¨æˆ·ç™»å½•é¡µé¢

å®ç°äº†ç”¨æˆ·ç™»å½•ç•Œé¢ï¼ŒåŒ…æ‹¬ç”¨æˆ·åå’Œå¯†ç è¾“å…¥æ¡†ã€‚

Closes #123
```

**é‡è¦æç¤º**ï¼šå¦‚æœæ”¹åŠ¨è¾ƒå¤§ï¼ˆå¦‚æ–°å¢ä¸»è¦åŠŸèƒ½ã€æ¶æ„å˜æ›´ç­‰ï¼‰ï¼Œå¿…é¡»åŒæ­¥æ›´æ–° README.mdã€‚

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
flutter test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
flutter test test/example_test.dart
```

### ä»£ç æ£€æŸ¥

```bash
# åˆ†æä»£ç 
flutter analyze

# æ ¼å¼åŒ–ä»£ç 
dart format lib/
```

## ğŸ“± å¹³å°æ”¯æŒ

- âœ… Android
- â³ iOSï¼ˆå¾…æ”¯æŒï¼‰
- â³ Webï¼ˆå¾…æ”¯æŒï¼‰
- â³ Desktopï¼ˆå¾…æ”¯æŒï¼‰

## ğŸ”§ æ„å»ºå‘å¸ƒ

### Android APK

```bash
# æ„å»ºè°ƒè¯•ç‰ˆæœ¬
flutter build apk --debug

# æ„å»ºå‘å¸ƒç‰ˆæœ¬ï¼ˆå·²ä¼˜åŒ–ï¼šä»£ç æ··æ·† + èµ„æºå‹ç¼© + æŒ‰ ABI åˆ†å‰²ï¼‰
flutter build apk --release

# æ„å»º App Bundleï¼ˆæ¨èç”¨äº Google Playï¼‰
flutter build appbundle --release
```

**APK å¤§å°ä¼˜åŒ–ï¼š**
- âœ… å¯ç”¨ä»£ç æ··æ·†å’Œèµ„æºå‹ç¼©
- âœ… æŒ‰ ABI åˆ†å‰² APKï¼ˆä¸ºä¸åŒæ¶æ„ç”Ÿæˆç‹¬ç«‹ APKï¼Œå‡å°å•ä¸ª APK å¤§å°ï¼‰
- âœ… æ„å»ºåçš„ APK ä½äº `build/app/outputs/apk/release/`ï¼ŒæŒ‰æ¶æ„åˆ†åˆ«ç”Ÿæˆï¼ˆå¦‚ `app-arm64-v8a-release.apk`ï¼‰

## ğŸ“„ è®¸å¯è¯

æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“š ç›¸å…³èµ„æº

- [Flutter å®˜æ–¹æ–‡æ¡£](https://docs.flutter.dev/)
- [Dart è¯­è¨€æŒ‡å—](https://dart.dev/guides)
- [Flutter ç¤ºä¾‹ä»£ç ](https://docs.flutter.dev/cookbook)
- [Material Design 3](https://m3.material.io/)

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0+1 (å½“å‰ç‰ˆæœ¬)
- âœ… é¡¹ç›®é‡æ„ä¸º Flutter åº”ç”¨
- âœ… ä¿ç•™åŸæœ‰æ¡Œé¢å›¾æ ‡è®¾è®¡
- âœ… åˆ›å»ºåŸºç¡€æ¼”ç¤ºç•Œé¢
- âœ… é…ç½® Android å¹³å°æ”¯æŒ
